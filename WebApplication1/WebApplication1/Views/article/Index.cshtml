@model IEnumerable<WebApplication1.Models.ArticleViewModel>

@{
    ViewBag.Title = "Index";
}

<h2>Popis artikala</h2>

<p>
    @Html.ActionLink("Dodaj novi artikl", "Create")
</p>
<table class="table table-hover">
    <tr>
        <th width="25%">
            Ime artikla
        </th>
        <th width="10%">
            <div class="pull-right">
                Količina
            </div>
        </th>
        <th width="10%">
            <div class="pull-right">
                Cijena
            </div>
        </th>
        <th width="15%">
            <div class="pull-right">
                Ukupna cijena
            </div>
        </th>
        <th width="10%">
            <div class="pull-right">
                Porez
            </div>
        </th>
        <th width="20%">
            <div class="pull-right">
                Proizvođač
            </div>
        </th>
        <th width="10%"></th>
        <th width="10%"></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.name)
            </td>
            <td>
                <div class="pull-right">
                    @Html.DisplayFor(modelItem => item.amount)
                </div>
            </td>
            <td>
                <div class="pull-right">
                    @Html.DisplayFor(modelItem => item.price)
                </div>
            </td>
            <td>
                <div class="pull-right">
                    @Html.DisplayFor(modelItem => item.sumvalue)
                </div>
            </td>
            <td>
                <div class="pull-right">
                    @Html.DisplayFor(modelItem => item.tax)
                </div>
            </td>
            <td>
                <div class="pull-right">
                    @Html.DisplayFor(modelItem => item.firm.name)
                </div>
            </td>
            <td>
                <div class="pull-right">
                    <a class="editajax" href="" data-sifartikla="@item.id"><i class="glyphicon glyphicon-edit"></i></a>
                </div>
            </td>
            <td>
                <a class="deleteajax" href="" data-sifartikla="@item.id"><i class="glyphicon glyphicon-trash trash-can"></i></a>
            </td>
        </tr>
    }

</table>

@section scripts{
    <script type="text/javascript">
        $(function () {
            $(".editajax").each(function () {
                SetEditAjax($(this), '@Url.Action("EditAjax")');
            });

            $(".deleteajax").each(function () {
                SetDeleteAjax($(this), '@Url.Action("DeleteAjax")');
            });
        });
    </script>
}
